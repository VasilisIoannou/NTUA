	
	;Enable Interrupts
	MVI A,0DH
	SIM
	EI

	;Initialise Display
	MVI A,10H
	STA 0B00H
	STA 0B01H
	STA 0B02H
	STA 0B03H
	STA 0B04H
	STA 0B05H
	STA 0B06H



WHILE_1:
	JMP WHILE_1
	

INTR_ROUTINE:
	PUSH PSW
	
	CALL KIND
	STA 0B00H
	MOV L,A
	CALL KIND
	STA 0B01H
	RRC
	RRC
	RRC
	RRC
	ORA L
	MOV B,A
	
	CALL DISPLAY	

	;Save d and e
	MVI D,05H
	MVI E,15H
	MOV A,B

	;A<D
	CMP D
	JC SMALLER
	JZ SMALLER ; OR EQUAL
	
	;D < A < E
	CMP E
	JC BETWEEN
	JZ BETWEEN

	; A > E
	MVI A,FBH
	STA 3000H
	JMP FINISH

	JMP INTR_ROUTINE

SMALLER:
	MVI A,FEH
	STA 3000H	
	JMP FINISH
	
BETWEEN:
	MVI A,FDH
	STA 3000H
	JMP FINISH

DISPLAY:
	LXI D,0B00H   ;For STDM
	PUSH PSW
	PUSH H
	PUSH D
	PUSH B
	CALL STDM
	CALL DCD
	POP B
	POP D
	POP H
	POP PSW
	MVI D,20H 	;K1
	MVI E,40H 	;K2
	RET

FINISH:
	POP PSW
	EI
	RET

	END